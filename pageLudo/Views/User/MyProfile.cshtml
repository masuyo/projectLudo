@model pageLudo.Models.RegisterUser

@{
    ViewBag.Title = "MyProfile";
}

@if (Session["LogedUsername"] != null)
{ 
    <br />
    <h4>Adatlap</h4>
    <br />
    <div>
        <table>
            <tr>
                <td>Username:</td>
                <td>@Session["LogedUsername"].ToString()</td>
            </tr>
            <tr>
                <td>E-mail address:</td>
                <td>@Session["LogedEmailID"].ToString()</td>
            </tr>
        </table>
        <br />
    </div>
    <br />
    <h4>Statisztika</h4>


        <!-- Adott játékosnak minden játéktípusban(Ludóban) winrate -->
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
            // Load the Visualization API and the piechart package.
            google.charts.load('current', { packages: ['corechart'] });

            // Set a callback to run when the Google Visualization API is loaded.
            google.charts.setOnLoadCallback(drawChart);

            // Callback that creates and populates a data table,
            // instantiates the pie chart, passes in the data and
            // draws it.
            function drawChart() {

                // Create the data table.
                //Adott játékosnak minden játéktípusban(Ludóban) winrate (elég a win%-ot visszaadni sztem max 2 tizedesjegyig)
                var data = google.visualization.arrayToDataTable([
                  ["Game", "Win", "Lose", { role: "style" }],
                  ["Ludo", 30, 70, ""],
                  ["Chess", 55, 45,""],
                  ["Balderdash", 12, 88, ""],
                  ["Tictactoe", 56, 44,""]
                ]);

                var view = new google.visualization.DataView(data);

                var options = {
                    title: "Győzelem-vereség aránya",
                    isStacked: 'percent',
                    //width: 900,
                    //height: 150,
                    bar: { groupWidth: "95%" },
                    legend: { position: "none" },
                };

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.BarChart(document.getElementById("barchart_values"));
                chart.draw(view, options);


                //Adott játékos adott játéktípusban adott játéktípushoz tartozó színekkel milyen arányban nyert
                var data2 = google.visualization.arrayToDataTable([
                  ['', 'Blue', { role: 'annotation' }, 'Red', { role: 'annotation' }, 'Yellow', { role: 'annotation' }, 'Green', { role: 'annotation' }, 'Black', {
                    role: 'annotation'}, 'White', { role: 'annotation'},{ role: 'style' }],
                  ['Ludo', 112, '', 82, '', 47, '', 55, '', 0, '', 0, '', ''],
                  ['Chess', 0, '', 0, '', 0, '', 0, '', 102, '', 110, '', '']
                ]);

                var options2 = {
                    title: "Győzelem színek szerinti eloszlása",
                    isStacked: 'percent',
                    hAxis: {
                        minValue: 0
                    },
                    series: {
                        0: { color: 'blue' },
                        1: { color: 'red' },
                        2: { color: 'yellow' },
                        3: { color: 'green' },
                        4: { color: 'black' },
                        5: { color: '#fff7e3' },
                    }
                };

                var chart2 = new google.visualization.BarChart(document.getElementById('mood_chart'));
                chart2.draw(data2, options2);

            }
        </script>
        <div>
            <div id="barchart_values" style="width: 500px; height: 200px; float:left;"></div>
            <div id="mood_chart" style="width: 500px; height: 200px; float:left;"></div>
        </div>
        <div class="clearfix"></div>
}


